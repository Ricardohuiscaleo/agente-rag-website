import{j as f}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.Bd8wGOW-.js";function j({content:s,children:g,side:a="top",align:o="center",showArrow:k=!0,delay:m=100,offset:u=8}){const[l,x]=i.useState(!1),[w,v]=i.useState({top:0,left:0}),[h,y]=i.useState(!1),p=i.useRef(null),d=i.useRef(null),c=i.useRef(null);i.useEffect(()=>{const t=()=>{const e=window.innerWidth<=768,r="ontouchstart"in window||navigator.maxTouchPoints>0;y(e||r)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const b=()=>{if(!p.current||!d.current)return;const t=p.current.getBoundingClientRect(),e=d.current.getBoundingClientRect();let r=0,n=0;switch(a){case"top":r=-e.height-u;break;case"bottom":r=t.height+u;break;case"left":n=-e.width-u,r=(t.height-e.height)/2;break;case"right":n=t.width+u,r=(t.height-e.height)/2;break;default:r=-e.height-u}if(a==="top"||a==="bottom")switch(o){case"start":n=0;break;case"center":n=(t.width-e.width)/2;break;case"end":n=t.width-e.width;break;default:n=(t.width-e.width)/2}if(a==="left"||a==="right")switch(o){case"start":r=0;break;case"center":r=(t.height-e.height)/2;break;case"end":r=t.height-e.height;break;default:r=(t.height-e.height)/2}v({top:r,left:n})};i.useEffect(()=>{l&&b()},[s,l]);const E=()=>{h||(clearTimeout(c.current),c.current=setTimeout(()=>{x(!0),requestAnimationFrame(()=>{b()})},m))},S=()=>{h||(clearTimeout(c.current),c.current=setTimeout(()=>{x(!1)},m))};i.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]);const T=()=>{const t={position:"absolute",width:"10px",height:"10px",backgroundColor:"white",transform:"rotate(45deg)",boxShadow:"1px 1px 3px rgba(0, 0, 0, 0.1)"};switch(a){case"top":return{...t,bottom:"-5px",left:o==="center"?"calc(50% - 5px)":o==="start"?"10px":"calc(100% - 15px)"};case"bottom":return{...t,top:"-5px",left:o==="center"?"calc(50% - 5px)":o==="start"?"10px":"calc(100% - 15px)"};case"left":return{...t,right:"-5px",top:o==="center"?"calc(50% - 5px)":o==="start"?"10px":"calc(100% - 15px)"};case"right":return{...t,left:"-5px",top:o==="center"?"calc(50% - 5px)":o==="start"?"10px":"calc(100% - 15px)"};default:return t}};return f.jsxs("div",{ref:p,onMouseEnter:E,onMouseLeave:S,className:"relative inline-block",children:[g,!h&&l&&f.jsxs("div",{ref:d,className:"absolute z-50 bg-white shadow-md rounded-lg p-2 text-sm text-gray-700 min-w-[120px] animate-fade-in",style:{top:w.top,left:w.left,animation:"fadeIn 0.2s ease-in-out"},children:[s,k&&f.jsx("div",{style:T()})]})]})}if(typeof document<"u"&&!document.querySelector("#tooltip-animations")){const s=document.createElement("style");s.id="tooltip-animations",s.innerHTML=`
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-5px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-fade-in {
        animation: fadeIn 0.2s ease-in-out forwards;
      }
    `,document.head.appendChild(s)}export{j as S};
